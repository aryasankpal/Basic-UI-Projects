<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday To my Princess</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }

    /* Envelope 💌 */
    .envelope {
      width: 180px;
      height: 120px;
      background: #fff;
      cursor: pointer;
      transition: transform 0.6s ease;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
    }

    /* Book */
    .book {
      display: none;
      width: 90%;
      max-width: 600px;
      height: 60vh;
      background: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      transform: scale(0.8);
      animation: openBook 1s ease forwards;
      border-radius: 10px;
      overflow: hidden;
    }
    @keyframes openBook {
      from { transform: scale(0.5) rotateY(90deg); opacity: 0; }
      to { transform: scale(1) rotateY(0deg); opacity: 1; }
    }

    .page {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .left-page {
      background: #fff0f5;
      justify-content: center;
    }
    .right-page {
      background: #ffe4e1;
      justify-content: flex-start;
      align-items: flex-end;
      padding: 20px;
    }
    .right-page img {
      max-width: 60%;
      max-height: 60%;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .message {
      font-size: 1rem;
      line-height: 1.5;
      color: #333;
    }

    /* Floating hearts background */
    .heart {
      position: absolute;
      color: rgba(255, 0, 100, 0.5);
      font-size: 20px;
      animation: floatUp 5s linear infinite;
    }
    @keyframes floatUp {
      0% { transform: translateY(100vh) scale(0.8); opacity: 1; }
      100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
    }

    /* Responsive for smaller screens like iOS */
    @media screen and (max-width: 500px) {
      .book {
        height: 70vh;
        flex-direction: column;
      }
      .page {
        width: 100%;
        height: 50%;
      }
      .right-page {
        justify-content: center;
        align-items: center;
      }
      .right-page img {
        max-width: 80%;
        max-height: 80%;
      }
      .envelope {
        width: 150px;
        height: 100px;
        font-size: 30px;
      }
    }
  </style>
</head>
<body>

  <!-- Floating hearts -->
  <script>
    for (let i = 0; i < 15; i++) {
      let heart = document.createElement("div");
      heart.className = "heart";
      heart.innerHTML = "❤";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (3 + Math.random()*5) + "s";
      heart.style.fontSize = (15 + Math.random()*25) + "px";
      document.body.appendChild(heart);
    }
  </script>

  <!-- First Screen: Envelope -->
  <div class="envelope" id="envelope">
    <span>💌</span>
  </div>

  <!-- Second Screen: Book -->
  <div class="book" id="book">
    <div class="page left-page">
      <div class="message">
        🎉 Happy Birthday to my best friend!  
        <br><br>
        You make every moment brighter and every hard time easier.  
        I’m so grateful for all our memories and can’t wait to make many more.  
        This is my little virtual gift for you 💖  
      </div>
    </div>
    <div class="page right-page">
      <!-- Replace with your actual image URL. Upload to ImgBB or similar and get the direct link (ends with .jpg/.png). 
           Example valid format: https://i.ibb.co/XXXXXXX/yourimage.jpg 
           If invalid, it won't load on iOS or anywhere. -->
      <img src="https://i.ibb.co/JwH53FzY/bdy.jpg" alt="Our Photo" onerror="this.src='https://via.placeholder.com/300?text=Image+Not+Found';">
    </div>
  </div>

  <script>
    const envelope = document.getElementById("envelope");
    const book = document.getElementById("book");

    envelope.addEventListener("click", () => {
      envelope.style.transition = "transform 0.8s ease, opacity 0.8s ease";
      envelope.style.transform = "scale(0.5) rotate(20deg)";
      envelope.style.opacity = "0";
      setTimeout(() => {
        envelope.style.display = "none";
        book.style.display = "flex";
      }, 800);
    });

    // Ensure compatibility on iOS Safari (force reflow for animations)
    window.addEventListener('load', () => {
      document.body.style.webkitTransform = 'translateZ(0)';
    });
  </script>

</body>
</html>